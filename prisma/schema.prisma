generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Cineproduction {
  id           Int           @id @default(autoincrement())
  title        String?       @db.VarChar(150)
  release_date Int?
  nationality  String?       @db.VarChar(100)
  idiom_id     Int?
  genre_id     Int?
  directors    String?       @db.VarChar(250)
  type_id      Int?
  genres       Genre?        @relation(fields: [genre_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_genre")
  idioms       Idiom?        @relation(fields: [idiom_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_idiom")
  types        types?        @relation(fields: [type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_type")
  film_genero  film_genero[]

  @@map("cineproductions")
}

model film_genero {
  cineproductions_id Int
  genero_id          Int
  cineproductions    Cineproduction @relation(fields: [cineproductions_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_film")
  genres             Genre          @relation(fields: [genero_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_genero")

  @@id([cineproductions_id, genero_id], map: "pk_film_genero")
  @@map("film_genero")
}

model Genre {
  id              Int              @id @default(autoincrement())
  name            String?          @db.VarChar(100)
  cineproductions Cineproduction[]
  film_genero     film_genero[]

  @@map("genres")
}

model Idiom {
  id              Int              @id @default(autoincrement())
  name            String?          @db.VarChar(200)
  cineproductions Cineproduction[]

  @@map("idioms")
}

model types {
  id              Int              @id @default(autoincrement())
  name            String?          @db.VarChar(100)
  cineproductions Cineproduction[]

  @@map("types")
}
